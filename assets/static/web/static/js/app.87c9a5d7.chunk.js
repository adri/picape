(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{413:function(e,n,t){"use strict";var r=t(24),i=t.n(r),a=t(11),o=t.n(a),c=t(25),l=t.n(c),u=t(0),s=t(10),d=t(92),f=t(5),m=t(2),g=t(223),p=t(150),y=t(722),v=t(373),h=t(721),E=t(116),b=t(52),w=t(415),B=t(151),k=t(414),S=t(283),x=t(412),O=t(84),P=t(723),I="#F7F7F7",j={tintColor:"#48BB78",tabIconDefault:"#ccc",tabIconSelected:"#48BB78",tabBar:"#fefefe",errorBackground:"red",errorText:"#fff",warningBackground:"#EAEB5E",warningText:"#666804",noticeBackground:"#48BB78",noticeText:"#fff",checkboxSelected:"#48BB78",secondaryText:"#aeaeae",navButtonText:"#3B3B3B",navButtonBackground:"white",navButtonSelectedBackground:I,navButtonSelectedText:"#207227",badgeBackground:"#48BB78",badgeText:"white",cardBackground:I,cardHighlightBackground:"#FFFAEB",iconDefault:"#ccc",iconSelected:"#48BB78"};function D(e){return u.createElement(y.a,{name:e.name,size:30,style:{marginBottom:-3},color:e.focused?j.tabIconSelected:j.tabIconDefault})}var C=t(64),L=t.n(C),R=t(34),T=t(90),z=t(43),U=t(66),q=t(65),Q=t.n(q),$=t(139),H=t(50);function A(e){return u.createElement(m.a,{style:[e.style,{borderColor:"#cdcdcd",paddingHorizontal:5}]},u.createElement(H.a,{onPress:e.onPress,style:{flex:3}},u.createElement($.a,{source:{uri:e.imageUrl},imageStyle:{borderRadius:5,resizeMode:"cover"},style:{flex:1}},u.createElement(m.a,{style:{flexDirection:"row",flexDirection:"row-reverse",width:250,height:180}},e.children))),u.createElement(m.a,{style:{flex:1,paddingTop:10}},u.createElement(R.a,{onPress:e.onPress},e.title)))}function W(e){return u.createElement(H.a,{onPress:e.onPress,style:{width:30,height:30,borderRadius:15,backgroundColor:"white",margin:10}},u.createElement(y.a,{name:"ios-checkmark-circle",size:38,style:{marginTop:-5},color:j.iconSelected}))}function F(e){return u.createElement(H.a,{onPress:e.onPress,style:[{width:30,height:30,borderRadius:15,backgroundColor:"white",margin:10},e.style]},u.createElement(y.a,{name:"md-add-circle",size:38,style:{marginTop:-5},color:j.iconDefault}))}function M(e){return u.createElement(H.a,{style:{width:30,height:30,borderRadius:15,backgroundColor:"white",margin:10}},u.createElement(y.a,{onPress:e.onPress,name:"md-remove-circle",size:38,style:{marginTop:-5},color:j.iconDefault}))}function N(e){return u.createElement(m.a,{style:[e.style,{flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"baseline",marginHorizontal:20,borderTopColor:"#ececec",borderTopWidth:.5}]},u.createElement(R.a,{style:{fontSize:24,fontWeight:"700",paddingTop:20,paddingBottom:15}},e.title),e.children)}var G=t(75);function J(e){return u.createElement(m.a,{style:[{flex:1,marginBottom:10,flexDirection:"row",backgroundColor:j.cardBackground,paddingHorizontal:10,paddingVertical:5,borderRadius:5},e.style]},u.createElement(m.a,{style:{justifyContent:"center"}},u.createElement(G.a,{source:{uri:e.imageUrl},fadeDuration:.2,resizeMode:"contain",style:{width:35,height:35}})),u.createElement(m.a,{style:{flex:1,marginLeft:10,alignSelf:"stretch",justifyContent:"center"}},u.createElement(R.a,null,e.title)),e.children)}function K(e){return u.createElement(H.a,{onPress:e.onPress,style:{alignSelf:"center",backgroundColor:j.tintColor,borderRadius:15,width:30,height:30,margin:10,alignItems:"center",justifyContent:"center"}},u.createElement(R.a,{style:{paddingHorizontal:4,fontWeight:"700",fontSize:15,color:"white"}},e.amount))}var V=t(181);function X(){var e=L()(["\n  mutation orderIngredient($ingredientId: ID!, $quantity: Int!) {\n    orderIngredient(ingredientId: $ingredientId, quantity: $quantity) {\n      id\n      orderedQuantity\n    }\n  }\n"]);return X=function(){return e},e}var Y=Object(V.a)(Object(V.d)("opened","toggle",!1),Object(V.c)((function(e){var n=e.toggle,t=null;return{clearTimeout:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(){return function(){return clearTimeout(t)}})),resetCloseTimout:function(e){var r=e.opened;return function(){clearTimeout(t),r&&(t=setTimeout((function(){return n((function(){return!1}))}),3e3))}}}})),Object(V.b)({componentWillUnmount:function(){this.props.clearTimeout()}})),Z=Q()(X()),_=Y((function(e){var n=e.id,t=e.orderedQuantity,r=e.opened,i=e.toggle,a=e.resetCloseTimout,o=Object(U.a)(Z,{refetchQueries:["OrderList"],onCompleted:function(e){0===e.orderIngredient.orderedQuantity&&i((function(){return!1}))}}),c=l()(o,1)[0];return 0===t?u.createElement(F,{onPress:function(e){e.preventDefault(),c({variables:{ingredientId:n,quantity:1}})}}):r?(a(),u.createElement(m.a,{style:{flex:1,flexDirection:"row",alignContent:"flex-end",marginRight:-10}},u.createElement(M,{onPress:function(e){e.preventDefault(),c({variables:{ingredientId:n,quantity:t-1}})}}),u.createElement(m.a,{style:{justifyContent:"center"}},u.createElement(R.a,null,t)),u.createElement(F,{onPress:function(e){e.preventDefault(),c({variables:{ingredientId:n,quantity:t+1}})}}))):u.createElement(K,{amount:t,onPress:function(e){e.preventDefault(),i((function(e){return!e}))}})})),ee=t(126),ne=t.n(ee);function te(){var e=L()(["\n  query BasicsList {\n    basics: ingredients(\n      first: 1000\n      filter: { essential: true }\n      order: [{ field: NAME, direction: ASC }]\n    ) {\n      edges {\n        ingredient: node {\n          id\n          name\n          imageUrl\n          isPlanned\n          orderedQuantity\n          plannedRecipes {\n            quantity\n            recipe {\n              id\n              title\n            }\n          }\n          season {\n            label\n          }\n        }\n      }\n    }\n  }\n"]);return te=function(){return e},e}function re(){var e=L()(["\n  query RecipeList {\n    recipes {\n      id\n      title\n      imageUrl\n      isPlanned\n    }\n  }\n"]);return re=function(){return e},e}function ie(){var e=L()(["\n  mutation UnplanRecipe($recipeId: ID!) {\n    unplanRecipe(recipeId: $recipeId) {\n      id\n      isPlanned\n    }\n  }\n"]);return ie=function(){return e},e}function ae(){var e=L()(["\n  mutation PlanRecipe($recipeId: ID!) {\n    planRecipe(recipeId: $recipeId) {\n      id\n      isPlanned\n    }\n  }\n"]);return ae=function(){return e},e}var oe=Q()(ae()),ce=Q()(ie()),le=Q()(re()),ue=Q()(te());function se(e){var n=e.navigation,t=Object(U.b)(le),r=t.loading,i=t.error,a=t.data,o=void 0===a?{}:a,c=Object(U.a)(oe,{refetchQueries:["BasicsList"]}),s=l()(c,1)[0],d=Object(U.a)(ce,{refetchQueries:["BasicsList"]}),f=l()(d,1)[0];if(i)return"Error! "+i;var g=o.recipes,p=void 0===g?[]:g;return u.createElement(m.a,null,u.createElement(N,{title:"Recepten"},u.createElement(R.a,{style:{color:j.secondaryText,fontSize:14,paddingBottom:2}},"Bekijk alles")),u.createElement(ne.a,{layout:[{width:250,height:140,margin:20,marginTop:0,marginBottom:10},{width:180,height:25,marginLeft:20,marginBottom:32}],containerStyle:{flex:1},isLoading:r},u.createElement(m.a,{style:{paddingLeft:15}},u.createElement(z.d,{horizontal:!0},p.map((function(e){return u.createElement(A,{onPress:function(t){t.preventDefault(),n.navigate("RecipeDetail",{id:e.id,recipe:e})},key:e.id,title:e.title,imageUrl:e.imageUrl},e.isPlanned?u.createElement(F,{onPress:function(n){n.preventDefault(),f({variables:{recipeId:e.id}})}}):u.createElement(W,{onPress:function(n){n.preventDefault(),s({variables:{recipeId:e.id}})}}))}))))))}function de(){var e=Object(U.b)(ue),n=e.loading,t=e.error,r=e.data;if(t)return"Error! "+t;var i=(void 0===r?{}:r).basics,a=(i=void 0===i?{}:i).edges,o=void 0===a?[]:a;return u.createElement(m.a,null,u.createElement(N,{title:"Basics"}),u.createElement(ne.a,{layout:Array(5).fill({width:"auto",height:60,marginHorizontal:20,marginBottom:10}),containerStyle:{flex:1},isLoading:n},u.createElement(T.a,{style:{paddingHorizontal:20},data:o,keyExtractor:function(e){return e.ingredient.id},renderItem:function(e){var n=e.item.ingredient;return u.createElement(J,{style:{backgroundColor:n.isPlanned?j.cardHighlightBackground:j.cardBackground},title:n.name,imageUrl:n.imageUrl},u.createElement(_,{id:n.id,orderedQuantity:n.orderedQuantity}))}})))}function fe(e){var n=e.navigation;return u.createElement(z.d,{style:{flex:1,backgroundColor:"white"},contentContainerStyle:{paddingTop:30}},u.createElement(se,{navigation:n}),u.createElement(de,null))}function me(){var e=L()(["\n  query OrderList($inShoppingList: Boolean!) {\n    currentOrder {\n      id\n      totalCount\n      totalPrice\n      items {\n        id\n        ingredient {\n          id\n          name\n          imageUrl\n          isPlanned(inShoppingList: $inShoppingList)\n          orderedQuantity(inShoppingList: $inShoppingList)\n          plannedRecipes(inShoppingList: $inShoppingList) {\n            quantity\n            recipe {\n              id\n              title\n            }\n          }\n          season {\n            label\n          }\n        }\n      }\n    }\n  }\n"]);return me=function(){return e},e}fe.navigationOptions={header:null};var ge=Q()(me());function pe(){var e=Object(U.b)(ge,{variables:{inShoppingList:!1}}),n=e.loading,t=e.error,r=e.data;if(t)return"Error! "+t;var i=(void 0===r?{}:r).currentOrder,a=void 0===i?{}:i;return u.createElement(z.d,{style:{flex:1,backgroundColor:"white"},contentContainerStyle:{paddingTop:30}},u.createElement(N,{title:"Lijst"}),u.createElement(ne.a,{layout:Array(5).fill({width:"auto",height:60,marginHorizontal:20,marginBottom:10}),containerStyle:{},isLoading:n},u.createElement(T.a,{style:{paddingHorizontal:20},data:a.items,keyExtractor:function(e){return e.id},renderItem:function(e){var n=e.item.ingredient;return u.createElement(J,{title:n.name,imageUrl:n.imageUrl},u.createElement(_,{id:n.id,orderedQuantity:n.orderedQuantity}))}})))}function ye(){var e=L()(["\n  query LastOrderedRecipes {\n    recipes: lastOrderedRecipes {\n      id\n      title\n      imageUrl\n    }\n  }\n"]);return ye=function(){return e},e}var ve=Q()(ye());function he(){var e=Object(U.b)(ve,{variables:{inShoppingList:!1}}),n=e.loading,t=e.error,r=e.data;if(t)return"Error! "+t;var i=(void 0===r?{}:r).recipes,a=void 0===i?[]:i;return u.createElement(z.d,{style:{flex:1,backgroundColor:"white"},contentContainerStyle:{paddingTop:30}},u.createElement(N,{title:"Recepten"}),u.createElement(ne.a,{layout:Array(3).fill({width:50,height:60,margin:5,marginBottom:10,flexBasis:"50%"}),containerStyle:{flexDirection:"row",flexWrap:"wrap",alignContent:"stretch",paddingHorizontal:15},isLoading:n},a.map((function(e){return u.createElement(A,{key:e.id,style:{flexBasis:"50%"},title:e.title,imageUrl:e.imageUrl})}))))}var Ee=Object(P.a)();function be(e){var n=e.navigation;e.route;return n.setOptions({header:function(){return null}}),u.createElement(Ee.Navigator,{initialRouteName:"plan",tabBarOptions:{activeTintColor:j.tintColor}},u.createElement(Ee.Screen,{name:"plan",component:fe,options:{title:"Plannen",tabBarIcon:function(e){var n=e.focused;return u.createElement(D,{focused:n,name:"ios-calendar"})}}}),u.createElement(Ee.Screen,{name:"shop",component:pe,options:{title:"Winkelen",tabBarIcon:function(e){var n=e.focused;return u.createElement(D,{focused:n,name:"ios-cart"})}}}),u.createElement(Ee.Screen,{name:"cook",component:he,options:{title:"Koken",tabBarIcon:function(e){var n=e.focused;return u.createElement(D,{focused:n,name:"ios-restaurant"})}}}))}function we(){var e=L()(["\n  query GetRecipe($recipeId: ID!) {\n    recipe: node(id: $recipeId) {\n      ... on Recipe {\n        id\n        title\n        description\n        imageUrl\n        ingredients {\n          quantity\n          ingredient {\n            id\n            name\n          }\n        }\n      }\n    }\n  }\n"]);return we=function(){return e},e}var Be=Q()(we());function ke(e){var n=e.route.params,t=e.navigation,r=Object(U.b)(Be,{variables:{recipeId:n.id},returnPartialData:!0}),i=r.loading,a=r.error,o=r.data;if(a)return"Error! "+a;if(i)return u.createElement(m.a,null,u.createElement(R.a,null,"Loading"));var c=o.recipe;return t.setOptions({title:c.title}),u.createElement(m.a,{style:Se.container},u.createElement(z.d,{style:Se.container},u.createElement($.a,{source:{uri:c.imageUrl},imageStyle:{resizeMode:"cover"},fadeDuration:.2,style:{flex:1}},u.createElement(m.a,{style:{flexDirection:"row",flexDirection:"row-reverse",width:250,height:180}}))))}ke.navigationOptions={header:null};var Se=f.a.create({container:{flex:1,backgroundColor:"#fff"}}),xe=t(371),Oe=t(376);function Pe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ie(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Pe(Object(t),!0).forEach((function(n){o()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Pe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}t.d(n,"a",(function(){return Re}));var je=Object(x.a)((function(e){var n=e.graphQLErrors,t=e.networkError;n&&n.map((function(e){var n=e.message,t=e.locations,r=e.path;return console.log("[GraphQL error]: Message: "+n+", Location: "+t+", Path: "+r)})),t&&console.log("[Network error]: "+t)})),De=Object(h.a)(),Ce=O.a.from([je,Object(k.a)(B.a(new S.Socket("wss://picape.whybug.com/socket")))]),Le=new E.a({link:Ce,cache:new w.a});function Re(e){var n=u.useState(!1),r=l()(n,2),a=r[0],o=r[1],c=u.useState(),f=l()(c,2),h=f[0],E=f[1],w=u.useRef(),B=function(e){return Object(xe.a)(e,{prefixes:[Oe.a.makeUrl("/")],config:{Root:{path:"",screens:{plan:"plan",shop:"shop",cook:"cook"}},RecipeDetail:{path:"recipe/:id",parse:{id:function(e){return decodeURIComponent(e)}}}}})}(w).getInitialState;return u.useEffect((function(){i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g.a.preventAutoHide(),e.t0=E,e.next=5,i.a.awrap(B());case 5:return e.t1=e.sent,(0,e.t0)(e.t1),e.next=9,i.a.awrap(p.b(Ie({},y.a.font,{"space-mono":t(705)})));case 9:e.next=14;break;case 11:e.prev=11,e.t2=e.catch(0),console.warn(e.t2);case 14:return e.prev=14,o(!0),g.a.hide(),e.finish(14);case 18:case"end":return e.stop()}}),null,null,[[0,11,14,18]],Promise)}),[]),a||e.skipLoadingScreen?u.createElement(m.a,{style:Te.container},"ios"===s.a.OS&&u.createElement(d.a,{barStyle:"default"}),u.createElement(v.a,{ref:w,initialState:h},u.createElement(b.a,{client:Le},u.createElement(De.Navigator,null,u.createElement(De.Screen,{name:"Root",component:be}),u.createElement(De.Screen,{name:"RecipeDetail",component:ke}))))):null}var Te=f.a.create({container:{flex:1,backgroundColor:"#fff"}})},427:function(e,n,t){t(428),e.exports=t(429)},428:function(e,n){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},705:function(e,n,t){e.exports=t.p+"./fonts/SpaceMono-Regular.ttf"}},[[427,1,2]]]);
//# sourceMappingURL=app.87c9a5d7.chunk.js.map